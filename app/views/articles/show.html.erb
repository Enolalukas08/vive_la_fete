<div class="container py-3">
  <div class="row">
      <div class="col-lg-4 col-md-6">
        <div class="card border rounded position-relative">
          <div class="card-body d-flex flex-column align-items-center gap-3">
            <h4 class="card-title text-center"><%= @article.name.capitalize %></h4>
              <div class="card-haut">
                <% if @article.photo.present? %>
                  <div class="card-bg-image" style="background-image: url('<%= cl_image_path @article.photo.key %>'); height: 150px; width: 200px; "></div>
                <% else %>
                  <div class="card-bg-image" style="background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('<%= image_path "logo.png" %>'); height: 150px; width: 200px;"></div>
                <% end %>
              </div>
              </div>
            <div class="card-text">
              <p class="card-text"> <strong> Description :</strong> <%=@article.description%></p>
              <p class="card-text"><strong> Prix :</strong> <%=@article.price%> €</p>
              <p class="card-text"><strong> Utilisateur :</strong> <%=@article.user.first_name%></p>
            </div>
          </div>
          <% if @article.user == current_user %>
            <%= link_to 'Modifier produit', edit_article_path, class: 'btn btn-modifier btn-secondary' %>
          <% else %>
            <button class="btn btn-outline-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
              Reservation
            </button>
          <% end %>
        </div>
        <div class=col-md-8>
          <div style="width: 100%; height: 600px;"
            data-controller="map"
            data-map-markers-value="<%= @markers.to_json %>"
            data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
          </div>
        </div>
      </div>
  </div>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel">Offcanvas</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <%= render "form_booking" %>
  </div>
</div>



<!--// <div id="button-container">
  // <button class="btn btn-outline-primary btn-reservation hidden">Réservation</button>
// </div>
-->
